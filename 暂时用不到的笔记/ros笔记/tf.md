# 方向问题
tf假定所有转换都从父坐标系移动到子坐标系
一般TF树的延伸从base_link或者base_footprint开始，即这两个坐标系作为最父级的坐标系

# 坐标变换与坐标系变换？
在很多api中，存在着target frame，source frame，parent frame，child frame，里面隐藏着很多信息。

source、target frame是在进行坐标变换时的概念，source是坐标变换的源坐标系，target是目标坐标系，这个时候，这个变换代表的是坐标变换。
parent、child frame是在描述坐标系变换时的概念，parent是原坐标系，child是变换后的坐标系，这个时候这个变换描述的是坐标系变换，也是child
坐标系在parent坐标系下的描述。如果把child固结于一个刚体，那么这个变换描述的就是刚体在parent坐标系下的姿态。这个用处就大多了，可以用它来描述刚体的运动了。
从child到parent的坐标变换等于从parent到child的frame transform，等于child在parent frame的姿态描述。

在线性空间里，一个矩阵不但可以描述在同一个基下把一个点运动到另一个点的线性变换，还可以描述一个基在另外一个基下的表示，也可以表示一个基到另一个基的线性变换。
不过，如果单说坐标变换就简单了。所谓坐标变换就是把一个点在某个坐标系的描述，变换成在另外一个坐标系下的描述。
要实现这个变换，比较简单的做法就是用当前坐标系在参考坐标系下的描述（一个矩阵）去描述（乘以）这个点在当前坐标系下的描述（坐标）。
所以只要我们能够知道当前坐标系在参考坐标系的描述，我们就可以把当前坐标系里任何一个点的坐标变换成参考坐标系里的坐标。
好吧，不考虑平移，只考虑旋转，参考坐标系换个名字叫固定坐标系，当前坐标系叫动坐标系，那么该如何得到这个描述呢？
用矩阵。矩阵的各列分别是动坐标系在固定坐标系上的投影。当然如果你喜欢用坐标向量右乘矩阵，你也可以把在各轴的投影放在各行上。
一个基本的旋转关系构成的矩阵是很好描述的。那么多次旋转呢？


经过多次旋转的坐标系该怎么在固定坐标系下描述呢。这里有一个前乘和后乘的问题。什么时候前，什么时候后，很简单，绕固定坐标系的轴旋转就前乘，绕定坐标系就后乘。为什么是这样呢？解释起来很复杂，但可以这样理解，绕固定轴旋转时，你把这个旋转看做是线性变换，这个变换把原来的矩阵里的各列向量旋转变换成了新的向量，所以前乘。当绕动坐标系旋转时，你把这个旋转矩阵看做是一个描述了，并且这个描述是在未乘之前的矩阵这个描述下的描述，所以要放到后面。
刚体的任一姿态（任一动坐标系）可以经由三次基本旋转得到，用三个角来描述，这就是欧拉角。在tf里eulerYPR指的是绕动坐标系的zyx旋转，RPY指的是绕固定坐标系xyz旋转，这二者等价，坐标系定义为右手，x前，y左，z上。
四元数是刚体姿态的另一种描述方式，理论基础是，刚体姿态可以经过某一特定轴经一次旋转一定角度得到，等价于欧拉角，等价于旋转矩阵。一个四个参数，一个三个参数，一个九个参数，之所以等价是因为四个参数里有一个约束，九个参数里有六个约束。
